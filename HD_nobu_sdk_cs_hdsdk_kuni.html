<h2><i class="fa fa-pencil-square-o fa-fw"></i>User.version.SDK ～国～</h2>

<ul class="checklist">
    <li>
    <h3>国の概念</h3>
    <p>国とは、日本国の意味ではなく、「大和、丹波、北信濃、備中」などといった、地域のことです。<br>
    天翔記上では、「国」という言葉で統一されているため、SDK上でも国としています。<br>
    </p>
    <p>国と一言で言っても３つの概念で構成されます。<br>
    </p>
    <ul class="pointlist">
        <li>
        <h4>国</h4>
        <p>国という抽象的なカテゴリの概念。</p>
        </li><li>
        <h4>国.配列</h4>
        <p>国リストという、天翔記に存在するすべての国のリストの概念。</p>
        </li><li>
        <h4>国.配列[ix]</h4>
        <p>国１つの概念</p>
    </li></ul>
    <p>ここでは、よく利用するパターンをピックアップして解説します。<br>
    </p>
    </li>
    <li>
    <h3>使用例①</h3>
    <p>国オブジェクトの使い方は主に２つしかありません。<br>
    ひとつは、国に含まれている城のリストを求める方法です。<br>
    国→城を求めるものとなります。</p>
    <fieldset class="code"><legend>国に所属する城を求める</legend> <pre class="brush:csharp;">    public static void My_シナリオ選択直後(string シナリオファイル名)
    {
        // 全ての国の名前や、その国に所属している城名を出す
        foreach (var k in 国.配列)
        {
            デバッグ出力("---------------------------------");
            デバッグ出力(k.国名);
            var clist = k.所属城番号リスト;
            foreach (int iCastleID in clist)
            {
                デバッグ出力(城.配列[iCastleID].城名称);
            }
        }
    }
</pre></fieldset>
    </li>
    <li>
    <h3>使用例②</h3>
    <p>SDKでは、全ての国番号が列挙として定義済みです。<br>
    </p>
    <fieldset class="code"><legend>指定の国に所属する城を求める</legend> <pre class="brush:csharp;">    public static void My_シナリオ選択直後(string シナリオファイル名)
    {
        int iKuniID = 列挙.国.国番号.越後;
        デバッグ出力("---------------------------------");
        デバッグ出力(国.配列[iKuniID].国名);
        var clist = 国.配列[iKuniID].所属城番号リスト;
        foreach (int iCastleID in clist)
        {
            デバッグ出力(城.配列[iCastleID].城名称);
        }
    }

</pre></fieldset>
    </li>

    <li>
    <h3>使用例③</h3>
    <p>もう一つは、逆の流れで城→国を求めるものです。</p>
    <fieldset class="code"><legend>城が所属する国を求める</legend> <pre class="brush:csharp;">    public static void My_シナリオ選択直後(string シナリオファイル名)
    {
        // 今天翔記に信長がいるか、居るなら武将番号を得る
        int iBushouID = 武将.Find_武将番号(列挙.武将.列伝番号.織田信長);

        if (武将.配列.Exists(iBushouID))
        {
            // 信長が居る城の番号
            int iCastleID = 武将.配列[iBushouID].所属城番号;

            if (城.配列.Exists(iCastleID))
            {
                int iKuniID = 城.配列[iCastleID].所属国番号;
                デバッグ出力("信長は" + 国.配列[iKuniID].国名 + "に居る");
            }
        }
    }

</pre></fieldset>
    </li>
    <li>
    <h3>その他</h3>
    <p>国について、主な解説は以上となります。<br>
    国関連には他にもプロパティがあります。<br>
    詳しくはHD.version.SDKソース内の「国.h」や「国列挙.h」を参照してみてください。</p>
    </li>
</ul>

